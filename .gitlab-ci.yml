stages:
  - build_and_test

paris:
  stage: build_and_test
  image: docker:24.0.5
  script:
    - apk add --no-cache bash make
    - cd _scripts
    - echo "ğŸ”¨ Building paris"
    - bash build "paris"
    - echo "ğŸ§ª Testing paris"
    - bash test "paris"
  rules:
    - changes:
        - paris/**/*
        - _scripts/**/*

valentine:
  stage: build_and_test
  image: docker:24.0.5
  script:
    - apk add --no-cache bash make
    - cd _scripts
    - echo "ğŸ”¨ Building valentine"
    - bash build "valentine"
    - echo "ğŸ§ª Testing valentine"
    - bash test "valentine"
  rules:
    - changes:
        - valentine/**/*
        - _scripts/**/*

pyjedai:
  stage: build_and_test
  image: docker:24.0.5
  script:
    - apk add --no-cache bash make
    - cd _scripts
    - echo "ğŸ”¨ Building pyjedai"
    - bash build "pyjedai"
    - echo "ğŸ§ª Testing pyjedai"
    - bash test "pyjedai"
  rules:
    - changes:
        - pyjedai/**/*
        - _scripts/**/*

corenlp:
  stage: build_and_test
  image: docker:24.0.5
  script:
    - apk add --no-cache bash make
    - cd _scripts
    - echo "ğŸ”¨ Building corenlp"
    - bash build "corenlp"
    - echo "ğŸ§ª Testing corenlp"
    - bash test "corenlp"
  rules:
    - changes:
        - corenlp/**/*
        - _scripts/**/*

